'use strict';

let keys = require('./keys');

module.exports = function (obj) {
	let error;
	keys(obj).forEach(function (key) {
		try {
			delete this[key];
		} catch (e) {
			if (!error) error = e;
		}
	}, obj);
	if (error !== undefined) throw error;
	return obj;
};
