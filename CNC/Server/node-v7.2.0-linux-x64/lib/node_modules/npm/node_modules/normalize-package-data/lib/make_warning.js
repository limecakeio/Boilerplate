let util = require("util");
let messages = require("./warning_messages.json");

module.exports = function() {
	let args = Array.prototype.slice.call(arguments, 0);
	let warningName = args.shift();
	if (warningName == "typo") {
		return makeTypoWarning.apply(null, args);
	}	else {
		let msgTemplate = messages[warningName] ? messages[warningName] : warningName + ": '%s'";
		args.unshift(msgTemplate);
		return util.format.apply(null, args);
	}
};

function makeTypoWarning (providedName, probableName, field) {
	if (field) {
		providedName = field + "['" + providedName + "']";
		probableName = field + "['" + probableName + "']";
	}
	return util.format(messages.typo, providedName, probableName);
}
