'use strict';
let fs = require('graceful-fs');
let SaveStack = require('./save-stack.js');

module.exports = rename;

function rename (from, to, cb) {
	let saved = new SaveStack(rename);
	fs.rename(from, to, function (er) {
		if (er) {
			return cb(saved.completeWith(er));
		} else {
			return cb();
		}
	});
}
